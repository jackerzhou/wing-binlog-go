[2018-04-26 01:20:55,756] INFO [Partition wing-binlog-event-0 broker=1] Shrinking ISR from 1,0 to 1 (kafka.cluster.Partition)
[2018-04-26 01:20:55,756] WARN Client session timed out, have not heard from server in 3838186ms for sessionid 0x2000bdb58110000 (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,081] INFO Client session timed out, have not heard from server in 3838186ms for sessionid 0x2000bdb58110000, closing socket connection and attempting reconnect (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,189] INFO [ZooKeeperClient] Waiting until connected. (kafka.zookeeper.ZooKeeperClient)
[2018-04-26 01:20:57,195] INFO [ZooKeeperClient] Connected. (kafka.zookeeper.ZooKeeperClient)
[2018-04-26 01:20:57,708] INFO Opening socket connection to server 127.0.0.1/127.0.0.1:12182. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,709] INFO Socket connection established to 127.0.0.1/127.0.0.1:12182, initiating session (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,725] WARN Unable to reconnect to ZooKeeper service, session 0x2000bdb58110000 has expired (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,750] INFO Unable to reconnect to ZooKeeper service, session 0x2000bdb58110000 has expired, closing socket connection (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,856] INFO EventThread shut down for session: 0x2000bdb58110000 (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:57,870] INFO [ZooKeeperClient] Session expired. (kafka.zookeeper.ZooKeeperClient)
[2018-04-26 01:20:57,984] INFO [ZooKeeperClient] Initializing a new session to 127.0.0.1:12181,127.0.0.1:12182,127.0.0.1:12183. (kafka.zookeeper.ZooKeeperClient)
[2018-04-26 01:20:58,013] INFO Initiating client connection, connectString=127.0.0.1:12181,127.0.0.1:12182,127.0.0.1:12183 sessionTimeout=6000 watcher=kafka.zookeeper.ZooKeeperClient$ZooKeeperClientWatcher$@3c130745 (org.apache.zookeeper.ZooKeeper)
[2018-04-26 01:20:58,019] INFO [Partition wing-binlog-event-0 broker=1] Expanding ISR from 1,0 to 1,0,2 (kafka.cluster.Partition)
[2018-04-26 01:20:58,057] ERROR Uncaught exception in scheduled task 'isr-expiration' (kafka.utils.KafkaScheduler)
org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /brokers/topics/wing-binlog-event/partitions/0/state
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:127)
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)
	at kafka.zookeeper.AsyncResponse.resultException(ZooKeeperClient.scala:465)
	at kafka.zk.KafkaZkClient.conditionalUpdatePath(KafkaZkClient.scala:621)
	at kafka.utils.ReplicationUtils$.updateLeaderAndIsr(ReplicationUtils.scala:34)
	at kafka.cluster.Partition.updateIsr(Partition.scala:670)
	at kafka.cluster.Partition.$anonfun$maybeShrinkIsr$1(Partition.scala:513)
	at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:12)
	at kafka.utils.CoreUtils$.inLock(CoreUtils.scala:250)
	at kafka.utils.CoreUtils$.inWriteLock(CoreUtils.scala:258)
	at kafka.cluster.Partition.maybeShrinkIsr(Partition.scala:504)
	at kafka.server.ReplicaManager.$anonfun$maybeShrinkIsr$2(ReplicaManager.scala:1335)
	at kafka.server.ReplicaManager.$anonfun$maybeShrinkIsr$2$adapted(ReplicaManager.scala:1335)
	at scala.collection.Iterator.foreach(Iterator.scala:929)
	at scala.collection.Iterator.foreach$(Iterator.scala:929)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1417)
	at kafka.server.ReplicaManager.maybeShrinkIsr(ReplicaManager.scala:1335)
	at kafka.server.ReplicaManager.$anonfun$startup$1(ReplicaManager.scala:322)
	at kafka.utils.KafkaScheduler.$anonfun$schedule$2(KafkaScheduler.scala:110)
	at kafka.utils.CoreUtils$$anon$1.run(CoreUtils.scala:62)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[2018-04-26 01:20:58,190] INFO Opening socket connection to server 127.0.0.1/127.0.0.1:12183. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:58,266] INFO Socket connection established to 127.0.0.1/127.0.0.1:12183, initiating session (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:58,395] INFO Session establishment complete on server 127.0.0.1/127.0.0.1:12183, sessionid = 0x3000eefe2a40000, negotiated timeout = 6000 (org.apache.zookeeper.ClientCnxn)
[2018-04-26 01:20:58,472] INFO [Partition wing-binlog-event-0 broker=1] Cached zkVersion [128] not equal to that in zookeeper, skip updating ISR (kafka.cluster.Partition)
[2018-04-26 01:20:58,472] INFO [Partition wing-binlog-event-0 broker=1] Shrinking ISR from 1,0 to 1 (kafka.cluster.Partition)
[2018-04-26 01:20:58,474] INFO [Partition wing-binlog-event-0 broker=1] Cached zkVersion [128] not equal to that in zookeeper, skip updating ISR (kafka.cluster.Partition)
[2018-04-26 01:20:58,475] INFO [Partition wing-binlog-event-0 broker=1] Shrinking ISR from 1,0 to 1 (kafka.cluster.Partition)
[2018-04-26 01:20:58,476] INFO [Partition wing-binlog-event-0 broker=1] Cached zkVersion [128] not equal to that in zookeeper, skip updating ISR (kafka.cluster.Partition)
[2018-04-26 01:20:58,477] INFO Creating /brokers/ids/1 (is it secure? false) (kafka.zk.KafkaZkClient)
[2018-04-26 01:20:58,487] INFO Result of znode creation at /brokers/ids/1 is: OK (kafka.zk.KafkaZkClient)
[2018-04-26 01:20:58,492] INFO Registered broker 1 at path /brokers/ids/1 with addresses: ArrayBuffer(EndPoint(192.168.0.105,9093,ListenerName(PLAINTEXT),PLAINTEXT)) (kafka.zk.KafkaZkClient)
[2018-04-26 01:20:58,976] INFO [Partition wing-binlog-event-0 broker=1] Expanding ISR from 1,0 to 1,0,2 (kafka.cluster.Partition)
[2018-04-26 01:20:58,977] INFO [Partition wing-binlog-event-0 broker=1] Cached zkVersion [128] not equal to that in zookeeper, skip updating ISR (kafka.cluster.Partition)
[2018-04-26 01:20:59,480] INFO [Partition wing-binlog-event-0 broker=1] Expanding ISR from 1,0 to 1,0,2 (kafka.cluster.Partition)
[2018-04-26 01:20:59,481] INFO [Partition wing-binlog-event-0 broker=1] Cached zkVersion [128] not equal to that in zookeeper, skip updating ISR (kafka.cluster.Partition)
[2018-04-26 01:20:59,730] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions wing-binlog-event-0 (kafka.server.ReplicaFetcherManager)
[2018-04-26 01:20:59,746] INFO [ReplicaFetcherManager on broker 1] Added fetcher for partitions List([wing-binlog-event-0, initOffset 0 to broker BrokerEndPoint(0,192.168.0.105,9092)] ) (kafka.server.ReplicaFetcherManager)
[2018-04-26 01:20:59,747] INFO [ReplicaAlterLogDirsManager on broker 1] Added fetcher for partitions List() (kafka.server.ReplicaAlterLogDirsManager)
[2018-04-26 01:21:00,158] INFO [ReplicaFetcher replicaId=1, leaderId=0, fetcherId=0] Based on follower's leader epoch, leader replied with an offset 0 >= the follower's log end offset 0 in wing-binlog-event-0. No truncation needed. (kafka.server.ReplicaFetcherThread)
[2018-04-26 01:21:00,160] INFO [Log partition=wing-binlog-event-0, dir=/Users/yuyi/Code/go/wing-binlog-go/tools/kafka/logs-1] Truncating to 0 has no effect as the largest offset in the log is -1 (kafka.log.Log)
[2018-04-26 01:22:28,179] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions wing-binlog-event-0 (kafka.server.ReplicaFetcherManager)
[2018-04-26 01:22:28,182] INFO [Partition wing-binlog-event-0 broker=1] wing-binlog-event-0 starts at Leader Epoch 44 from offset 0. Previous Leader Epoch was: 43 (kafka.cluster.Partition)
[2018-04-26 01:22:28,185] INFO [ReplicaAlterLogDirsManager on broker 1] Added fetcher for partitions List() (kafka.server.ReplicaAlterLogDirsManager)
[2018-04-26 01:22:28,405] INFO [Partition wing-binlog-event-0 broker=1] Expanding ISR from 0,1 to 0,1,2 (kafka.cluster.Partition)
[2018-04-26 01:26:23,252] INFO [GroupMetadataManager brokerId=1] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)
[2018-04-26 01:36:23,271] INFO [GroupMetadataManager brokerId=1] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)
